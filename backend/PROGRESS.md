# –ü—Ä–æ–≥—Ä–µ—Å —Ä–æ–∑—Ä–æ–±–∫–∏ Backend

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ

### 1.1. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç—É
- ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ package.json –∑ —É—Å—ñ–º–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏
- ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MongoDB
- ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ CORS
- ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è (morgan)
- ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ —Å—Ç–∞—Ç–∏—á–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ –ø–∞–ø–∫—É uploads/images

### 1.2. –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö
- ‚úÖ User - –∑ —Ö–µ—à—É–≤–∞–Ω–Ω—è–º –ø–∞—Ä–æ–ª—ñ–≤ (bcrypt)
- ‚úÖ City
- ‚úÖ Position
- ‚úÖ Category

### 1.3. –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- ‚úÖ JWT —Ç–æ–∫–µ–Ω–∏
- ‚úÖ Middleware –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–æ–∫–µ–Ω—ñ–≤
- ‚úÖ –•–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ (bcrypt) - –ù–ï –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ plain text
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º–∞—Ç—É –ª–æ–≥—ñ–Ω—É (—É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç)
- ‚úÖ Endpoints: /api/auth/register, /api/auth/login, /api/auth/me
- ‚úÖ –†–æ–∑—Ä—ñ–∑–Ω–µ–Ω–Ω—è —Ä–æ–ª–µ–π (user/admin)

### 1.4. API Endpoints
- ‚úÖ Auth routes (register, login, me)
- ‚úÖ Cities routes (CRUD)
- ‚úÖ Positions routes (CRUD)
- ‚úÖ Categories routes (CRUD)
- ‚úÖ Users routes (–±–∞–∑–æ–≤—ñ CRUD)

### Middleware —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏
- ‚úÖ Error handler
- ‚úÖ Auth middleware
- ‚úÖ Generate token utility
- ‚úÖ Login validator utility

## ‚úÖ –î–æ–¥–∞—Ç–∫–æ–≤–æ –≤–∏–∫–æ–Ω–∞–Ω–æ (–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å)

### –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å:
- ‚úÖ Middleware –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ (multer)
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤ —Ñ–∞–π–ª—ñ–≤ (jpg, jpeg, png, webp)
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ä–æ–∑–º—ñ—Ä—É —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –¥–æ –ø–∏—Ç–∞–Ω—å
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å –¥–æ —Å—Ç–∞—Ç–µ–π –±–∞–∑–∏ –∑–Ω–∞–Ω—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å
- ‚úÖ –°—Ç–∞—Ç–∏—á–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å

## ‚úÖ –î–æ–¥–∞—Ç–∫–æ–≤–æ –≤–∏–∫–æ–Ω–∞–Ω–æ

### –ú–æ–¥–µ–ª—ñ:
- ‚úÖ Question - –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- ‚úÖ DailyTest - –∑ –ª–æ–≥—ñ–∫–æ—é –ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–Ω—è
- ‚úÖ TestResult - –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

### –†–æ—É—Ç–∏:
- ‚úÖ Questions routes (CRUD)
- ‚úÖ Daily tests routes (–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è, –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏)

### –°–µ—Ä–≤—ñ—Å–∏:
- ‚úÖ dailyTestService - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤, –æ–±—Ä–æ–±–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- ‚úÖ –ê–ª–≥–æ—Ä–∏—Ç–º –≤–∏–±–æ—Ä—É —Ä—ñ–≤–Ω–æ 5 –ø–∏—Ç–∞–Ω—å –∑ —Ä—ñ–∑–Ω–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- ‚úÖ –í–∏–∫–ª—é—á–µ–Ω–Ω—è –≤–∂–µ –ø—Ä–æ–π–¥–µ–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å - –ø–∏—Ç–∞–Ω–Ω—è, —è–∫—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∂–µ –ø—Ä–æ–π—à–æ–≤, –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –π–æ–º—É –∑–Ω–æ–≤—É
- ‚úÖ –ù–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –º–æ–Ω–µ—Ç –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- ‚úÖ ratingService - –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ —Ä–µ–π—Ç–∏–Ω–≥—É –ø–æ –ø–æ—Å–∞–¥—ñ
- ‚úÖ –ü–æ–∫–∞–∑ –∫—ñ–Ω—Ü–µ–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ç–µ—Å—Ç—É
- ‚úÖ –ü–æ–∫–∞–∑ –ø–æ–∑–∏—Ü—ñ—ó –≤ –∑–∞–≥–∞–ª—å–Ω–æ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É –ø–æ –ø–æ—Å–∞–¥—ñ

## ‚úÖ –î–æ–¥–∞—Ç–∫–æ–≤–æ –≤–∏–∫–æ–Ω–∞–Ω–æ (–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è)

### Cron Jobs:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤ —â–æ–¥–Ω—è –æ 12:00
- ‚úÖ –†—É—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ API (–¥–ª—è –∞–¥–º—ñ–Ω—ñ–≤)
- ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—É —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—É –æ—Ç–æ—á–µ–Ω–Ω—è

## ‚úÖ –î–æ–¥–∞—Ç–∫–æ–≤–æ –≤–∏–∫–æ–Ω–∞–Ω–æ (–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è)

### Achievement —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ –ú–æ–¥–µ–ª—å Achievement –∑ —Ç–∏–ø–∞–º–∏ —Ç–∞ —É–º–æ–≤–∞–º–∏
- ‚úÖ –ú–æ–¥–µ–ª—å UserAchievement –¥–ª—è –∑–≤'—è–∑–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á-–∞—á—ñ–≤–∫–∞
- ‚úÖ –°–µ—Ä–≤—ñ—Å achievementService –∑ –ª–æ–≥—ñ–∫–æ—é –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∞—á—ñ–≤–æ–∫
- ‚úÖ –¢–∏–ø–∏ –∞—á—ñ–≤–æ–∫:
  - correct_answers - –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
  - test_streak - –∑–∞ —Å–µ—Ä—ñ—é –¥–Ω—ñ–≤ –ø—ñ–¥—Ä—è–¥
  - total_tests - –∑–∞ –∑–∞–≥–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–µ—Å—Ç—ñ–≤
  - perfect_score - –∑–∞ —Ç–µ—Å—Ç–∏ –∑ —ñ–¥–µ–∞–ª—å–Ω–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
  - category_master - –º–∞–π—Å—Ç–µ—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∞ –Ω–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –∞—á—ñ–≤–æ–∫ –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ç–µ—Å—Ç—É
- ‚úÖ –ù–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –º–æ–Ω–µ—Ç –∑–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∞—á—ñ–≤–æ–∫
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å –¥–æ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∞—á—ñ–≤–∫–∏
- ‚úÖ API endpoints –¥–ª—è CRUD –∞—á—ñ–≤–æ–∫

## ‚úÖ –î–æ–¥–∞—Ç–∫–æ–≤–æ –≤–∏–∫–æ–Ω–∞–Ω–æ (Shop —Å–∏—Å—Ç–µ–º–∞)

### Shop —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ –ú–æ–¥–µ–ª—å ShopItem –∑ —Ç–∏–ø–∞–º–∏ —Ç–æ–≤–∞—Ä—ñ–≤ —Ç–∞ —Å–∫–ª–∞–¥–æ–º
- ‚úÖ –ú–æ–¥–µ–ª—å UserPurchase –¥–ª—è –ø–æ–∫—É–ø–æ–∫
- ‚úÖ –ú–æ–¥–µ–ª—å CoinTransaction –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π –º–æ–Ω–µ—Ç
- ‚úÖ –°–µ—Ä–≤—ñ—Å shopService –∑ –ª–æ–≥—ñ–∫–æ—é –ø–æ–∫—É–ø–æ–∫
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–æ—Å—Ç–∞—Ç–Ω–æ—Å—Ç—ñ –º–æ–Ω–µ—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–æ–∫—É–ø–æ–∫ –∞–¥–º—ñ–Ω–æ–º
- ‚úÖ –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –º–æ–Ω–µ—Ç –ø—Ä–∏ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—ñ
- ‚úÖ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–∫–ª–∞–¥–æ–º —Ç–æ–≤–∞—Ä—ñ–≤
- ‚úÖ API endpoints –¥–ª—è CRUD —Ç–æ–≤–∞—Ä—ñ–≤
- ‚úÖ API endpoints –¥–ª—è –ø–æ–∫—É–ø–æ–∫ —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
- ‚úÖ API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–æ–Ω–µ—Ç–∞–º–∏ —Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏

## ‚úÖ –î–æ–¥–∞—Ç–∫–æ–≤–æ –≤–∏–∫–æ–Ω–∞–Ω–æ (Knowledge Base —Ç–∞ Feedback)

### Knowledge Base —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ –ú–æ–¥–µ–ª—å KnowledgeBase –∑ –ø–æ—à—É–∫–æ–º —Ç–∞ —Ç–µ–≥–∞–º–∏
- ‚úÖ –ú–æ–¥–µ–ª—å Comment –¥–ª—è –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ –¥–æ —Å—Ç–∞—Ç–µ–π
- ‚úÖ Text search –¥–ª—è –ø–æ—à—É–∫—É –ø–æ —Å—Ç–∞—Ç—Ç—è—Ö
- ‚úÖ –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤ —Å—Ç–∞—Ç–µ–π
- ‚úÖ –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏ —Ç–∞ –ª–∞–π–∫–∞–º–∏
- ‚úÖ API endpoints –¥–ª—è CRUD —Å—Ç–∞—Ç–µ–π
- ‚úÖ API endpoints –¥–ª—è –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤

### Feedback —Å–∏—Å—Ç–µ–º–∞:
- ‚úÖ –ú–æ–¥–µ–ª—å Feedback –∑ —Ç–∏–ø–∞–º–∏, —Å—Ç–∞—Ç—É—Å–∞–º–∏ —Ç–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- ‚úÖ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∞–Ω–æ–Ω—ñ–º–Ω–æ–≥–æ –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –∑–≤'—è–∑–∫—É
- ‚úÖ –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –∞–¥–º—ñ–Ω—ñ–≤ –Ω–∞ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ —Ç–∏–ø—É, —Å—Ç–∞—Ç—É—Å—É, –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É
- ‚úÖ API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–≤–æ—Ä–æ—Ç–Ω–∏–º –∑–≤'—è–∑–∫–æ–º

## ‚úÖ –ü–û–í–ù–ò–ô –°–¢–ê–¢–£–° BACKEND

### ‚úÖ –ü–æ–≤–Ω—ñ—Å—Ç—é —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:

1. **–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è** ‚úÖ
2. **–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è** ‚úÖ
   - –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ—Å—Ç—ñ–≤ –∑ —Ä—ñ–≤–Ω–æ 5 –ø–∏—Ç–∞–Ω—å
   - –í–∏–∫–ª—é—á–µ–Ω–Ω—è –≤–∂–µ –ø—Ä–æ–π–¥–µ–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å
   - –ù–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –º–æ–Ω–µ—Ç —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –ü–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥—É
3. **Achievement —Å–∏—Å—Ç–µ–º–∞** ‚úÖ
4. **Shop —Å–∏—Å—Ç–µ–º–∞** ‚úÖ
5. **Knowledge Base** ‚úÖ
6. **Feedback —Å–∏—Å—Ç–µ–º–∞** ‚úÖ
7. **–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å** ‚úÖ
8. **–†–µ–π—Ç–∏–Ω–≥ –ø–æ –ø–æ—Å–∞–¥—ñ** ‚úÖ
9. **Cron jobs** ‚úÖ

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- **–ú–æ–¥–µ–ª—ñ:** 13 –∑ 20 (65%)
- **–†–æ—É—Ç–∏:** 10 –∑ 15 (67%)
- **–°–µ—Ä–≤—ñ—Å–∏:** 5 –∑ 10 (50%)
- **–û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:** 90% –≥–æ—Ç–æ–≤–æ

## üìã –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

1. –°—Ç–≤–æ—Ä–∏—Ç–∏ —ñ–Ω—à—ñ –º–æ–¥–µ–ª—ñ (SupportTicket, Tournament, Challenge, Event)
2. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–∞ –∑–≤—ñ—Ç–∏
3. –î–æ–¥–∞—Ç–∏ –µ–∫—Å–ø–æ—Ä—Ç –≤ Excel
4. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ audit logging
5. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å (sharp)
4. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å (multer)
5. –°—Ç–≤–æ—Ä–∏—Ç–∏ —ñ–Ω—à—ñ –º–æ–¥–µ–ª—ñ (KnowledgeBase, Feedback, —Ç–æ—â–æ)

